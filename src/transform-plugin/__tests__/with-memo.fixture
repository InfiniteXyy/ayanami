export const Submissions: FC<TabProps> = memo((props) => {
  const [state, actions] = useAyanami(SubmissionModule)

  const loadMore = useCallback(() => {
    actions.nextPage()
  }, [])

  useEffect(() => {
    actions.getRecentSubmissions(props.userSlug)

    return actions.disposeFetching$
  }, [props.userSlug])

  return (
    <FeedList
      activities={state.shownSubmissions}
      hasMore={state.currentPage < state.totalPage}
      isMyProfile={props.isMyProfile}
      loading={state.loading}
      loadMore={loadMore}
    />
  )
})
